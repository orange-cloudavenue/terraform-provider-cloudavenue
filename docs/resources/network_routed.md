---
page_title: "cloudavenue_network_routed Resource - cloudavenue"
subcategory: "Network"
description: |-
  Provides a Cloud Avenue vDC routed Network. This can be used to create, modify, and delete VDC routed networks.
  !> Resource deprecated The resource has renamed to cloudavenue_edgegateway_network_routed https://registry.terraform.io/providers/orange-cloudavenue/cloudavenue/latest/docs/resources/edgegateway_network_routed, it will be removed in the version v0.38.0 https://github.com/orange-cloudavenue/terraform-provider-cloudavenue/milestone/21 of the provider. See the GitHub issue https://github.com/orange-cloudavenue/terraform-provider-cloudavenue/issues/1020 for more information.
---

# cloudavenue_network_routed (Resource)

Provides a Cloud Avenue vDC routed Network. This can be used to create, modify, and delete VDC routed networks. 

 !> **Resource deprecated** The resource has renamed to [`cloudavenue_edgegateway_network_routed`](https://registry.terraform.io/providers/orange-cloudavenue/cloudavenue/latest/docs/resources/edgegateway_network_routed), it will be removed in the version [`v0.38.0`](https://github.com/orange-cloudavenue/terraform-provider-cloudavenue/milestone/21) of the provider. See the [GitHub issue](https://github.com/orange-cloudavenue/terraform-provider-cloudavenue/issues/1020) for more information.


## How to migrate existing resources

Original configuration:

```terraform
resource "cloudavenue_network_routed" "example" {
  name = "example"

  edge_gateway_id = cloudavenue_edgegateway.example.id

  gateway       = "192.168.1.254"
  prefix_length = 24

  dns1 = "1.1.1.1"
  dns2 = "8.8.8.8"

  dns_suffix = "example"

  static_ip_pool = [
    {
      start_address = "192.168.1.10"
      end_address   = "192.168.1.20"
    }
  ]
}
```

Migrated configuration:

Rename the resource to `cloudavenue_edgegateway_network_routed` and add the `moved` block to the configuration:

```hcl
resource "cloudavenue_edgegateway_network_routed" "example" {
  name               = "my-isolated-network"
  edge_gateway_name  = cloudavenue_edgegateway.example.name

  gateway       = "192.168.0.1"
  prefix_length = 24

  dns1       = "192.168.0.2"
  dns2       = "192.168.0.3"
  dns_suffix = "example.local"
}

moved {
  from = cloudavenue_network_routed.example
  to   = cloudavenue_edgegateway_network_routed.example
}
```

Run `terraform plan` and `terraform apply` to migrate the resource.

Example of terraform plan output:

```shell
Terraform will perform the following actions:

  # cloudavenue_network_routed.example has moved to cloudavenue_edgegateway_network_routed.example
    resource "cloudavenue_edgegateway_network_routed" "example" {
        id                 = "urn:vcloud:network:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
        name               = "rsx-example-isolated-network"
        # (10 unchanged attributes hidden)
    }

Plan: 0 to add, 0 to change, 0 to destroy.
```

## Example Usage

```terraform
resource "cloudavenue_network_routed" "example" {
  name = "example"

  edge_gateway_id = cloudavenue_edgegateway.example.id

  gateway       = "192.168.1.254"
  prefix_length = 24

  dns1 = "1.1.1.1"
  dns2 = "8.8.8.8"

  dns_suffix = "example"

  static_ip_pool = [
    {
      start_address = "192.168.1.10"
      end_address   = "192.168.1.20"
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `gateway` (String) <i style="color:red;font-weight: bold">(ForceNew)</i> The gateway IP address for the network. This value define also the network IP range with the prefix length. Must be a valid IP with net.ParseIP.
- `name` (String) The name of the network. This value must be unique within the `VDC` or `VDC Group` that owns the network.
- `prefix_length` (Number) <i style="color:red;font-weight: bold">(ForceNew)</i> The prefix length for the network. This value must be a valid prefix length for the network IP range. (e.g. /24 for netmask 255.255.255.0). Value must be between 1 and 32.

### Optional

- `description` (String) A description of the network.
- `dns1` (String) The primary DNS server IP address for the network. Must be a valid IP with net.ParseIP.
- `dns2` (String) The secondary DNS server IP address for the network. Must be a valid IP with net.ParseIP.
- `dns_suffix` (String) The DNS suffix for the network.
- `edge_gateway_id` (String) <i style="color:red;font-weight: bold">(ForceNew)</i> The ID of the edge gateway in which the routed network should be located. Ensure that one and only one attribute from this collection is set : `edge_gateway_id`, `edge_gateway_name`.
- `edge_gateway_name` (String) <i style="color:red;font-weight: bold">(ForceNew)</i> The name of the edge gateway in which the routed network should be located. The name of the edge gateway in which the routed network should be located. Ensure that one and only one attribute from this collection is set : `edge_gateway_id`, `edge_gateway_name`.
- `interface_type` (String) An interface for the network. Value defaults to `INTERNAL`. Value must be one of : `INTERNAL`, `SUBINTERFACE`, `DISTRIBUTED`.
- `static_ip_pool` (Attributes Set) A set of static IP pools to be used for this network. Set must contain at least 1 elements. (see [below for nested schema](#nestedatt--static_ip_pool))

### Read-Only

- `id` (String) The ID of the network.

<a id="nestedatt--static_ip_pool"></a>
### Nested Schema for `static_ip_pool`

Required:

- `end_address` (String) The end address of the IP pool. This value must be a valid IP address in the network IP range. Must be a valid IP with net.ParseIP.
- `start_address` (String) The start address of the IP pool. This value must be a valid IP address in the network IP range. Must be a valid IP with net.ParseIP.

## Import

Import is supported using the following syntax:
```shell
terraform import cloudavenue_network_routed EdgeGatewayIDOrName.NetworkIDOrName
```
