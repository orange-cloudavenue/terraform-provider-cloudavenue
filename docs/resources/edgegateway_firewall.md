---
page_title: "cloudavenue_edgegateway_firewall Resource - cloudavenue"
subcategory: "Edge Gateway (Tier-1)"
description: |-
  The firewall resource allows you to manage rules on a Firewall. You can create this resource as many times as needed. Only the rules defined in this resource are managed by it; other firewall rules are not affected. You may create multiple firewall resources for the same Edge Gateway; each resource manages only its own set of rules.
  About rule priority:
  Previously, the order of your rules in the Terraform file determined their evaluation priority. Now, the priority attribute allows you to explicitly define the priority of each rule. Rules with a lower priority value are evaluated first, regardless of their position in the file. If multiple rules have the same priority, the alphabetical order of the rule's name is used. Changing the name of a rule (with the same priority) can affect the order in which your firewall rules are processed.
---

# cloudavenue_edgegateway_firewall (Resource)

The firewall resource allows you to manage rules on a Firewall. You can create this resource as many times as needed. Only the rules defined in this resource are managed by it; other firewall rules are not affected. You may create multiple firewall resources for the same Edge Gateway; each resource manages only its own set of rules.

**About rule priority:**
Previously, the order of your rules in the Terraform file determined their evaluation priority. Now, the priority attribute allows you to explicitly define the priority of each rule. Rules with a lower priority value are evaluated first, regardless of their position in the file. If multiple rules have the same priority, the alphabetical order of the rule's name is used. Changing the name of a rule (with the same priority) can affect the order in which your firewall rules are processed.

## Examples Usage

### Basic Example

```hcl
resource "cloudavenue_edgegateway_firewall" "example" {
  edge_gateway_id = cloudavenue_edgegateway.example.id
  rules = [
    {
      action      = "ALLOW"
      name        = "allow all IPv4 traffic"
      direction   = "IN_OUT"
      ip_protocol = "IPV4"
    }
  ]
}
```

### Advanced Example

```hcl
resource "cloudavenue_edgegateway_firewall" "example" {
  edge_gateway_id = cloudavenue_edgegateway.example.id
  rules = [
    {
  	  action      = "ALLOW"
  	  name        = "allow all IPv4 traffic"
  	  direction   = "IN_OUT"
  	  ip_protocol = "IPV4"
    },
    {
  	  action      = "ALLOW"
  	  name        = "allow OUT IPv4 traffic"
  	  direction   = "OUT"
  	  ip_protocol = "IPV4"
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `edge_gateway_id` (String) <i style="color:red;font-weight: bold">(ForceNew)</i> The ID of the Edge Gateway. Ensure that one and only one attribute from this collection is set : `edge_gateway_name`, `edge_gateway_id`.
- `edge_gateway_name` (String) <i style="color:red;font-weight: bold">(ForceNew)</i> The name of the Edge Gateway. Ensure that one and only one attribute from this collection is set : `edge_gateway_name`, `edge_gateway_id`.
- `rules` (Attributes Set) The collection of rules for configuring the firewall. (see [below for nested schema](#nestedatt--rules))

### Read-Only

- `id` (String) The ID of the Firewall Edge Gateway.

<a id="nestedatt--rules"></a>
### Nested Schema for `rules`

Required:

- `action` (String) Defines the behavior of the rule. Value must be one of: 
  - `ALLOW` The firewall permits the matching traffic to pass through. For example, if an inbound rule with action ALLOW matches a packet, that packet is allowed into the network.
  - `DROP` The firewall silently discards the matching traffic without notifying the sender. For example, if an outbound rule with action DROP matches a packet, that packet is dropped without any response sent back to the sender.
  - `REJECT` The firewall blocks the matching traffic and sends a response to the sender, indicating that the connection was refused. This informs the sender that their traffic was intentionally blocked.
- `direction` (String) Direction in firewall rules specifies whether the rule applies to incoming (inbound), outgoing (outbound), or both types of traffic. This attribute is crucial for defining how the firewall handles network traffic based on its direction. Value must be one of: 
  - `IN` Inbound (ingress) traffic: Data packets coming into a network or device from external sources. An inbound rule controls which external connections are allowed to reach internal systems.
  - `OUT` Outbound (egress) traffic: Data packets leaving a network or device to external destinations. An outbound rule controls which internal connections are allowed to reach external systems.
  - `IN_OUT` Both inbound and outbound traffic.
- `name` (String) The name of the rule.

Optional:

- `app_port_profile_ids` (Set of String) A set of Application Port Profile IDs. Leaving it empty means `Any` (all).
- `destination_ids` (Set of String) A set of Destination Firewall Group IDs (`IP Sets` or `Security Groups`). Leaving it empty means `Any` (all).
- `destination_ip_addresses` (Set of String) A set of destination IP addresses, IP Range or CIDR. If `destination_ids` attribute and this attribute are both empty, it means `Any` (all). Element value must satisfy all validations: The value must be all of the following :
a valid IPV4 address (Ex: 192.168.0.1), a valid IPV4 address range (Ex: 192.168.0.1-192.168.0.100), a valid IPV4 address with CIDR (Ex: 192.168.0.1/24).
- `enabled` (Boolean) Defines if the rule is enabled or not. Default value is `true`.
- `ip_protocol` (String) The IP protocol of the rule. Default value is `IPV4`. . Value must be one of : `IPV4`, `IPV6`, `IPV4_IPV6`.
- `logging` (Boolean) Defines if the rule should log matching traffic. Default value is `false`.
- `priority` (Number) The priority of the rule. Lower values have higher priority. If multiple rules have the same priority, the alphabetical order of the rule name is used to determine the evaluation order. Changing the name of a rule (with the same priority) can affect the order in which your firewall rules are processed. In the Cloudavenue web interface, your firewall rule will appear with the following format: <priority>_<name of the rule>. Value must be between 1 and 1000.
- `source_ids` (Set of String) A set of Source Firewall Group IDs (`IP Sets` or `Security Groups`). If `source_ip_addresses` attribute and this attribute are both empty, it means `Any` (all).
- `source_ip_addresses` (Set of String) A set of source IP addresses, IP Range or CIDR. If `source_ids` attribute and this attribute are both empty, it means `Any` (all). Element value must satisfy all validations: The value must be all of the following :
a valid IPV4 address (Ex: 192.168.0.1), a valid IPV4 address range (Ex: 192.168.0.1-192.168.0.100), a valid IPV4 address with CIDR (Ex: 192.168.0.1/24).

Read-Only:

- `id` (String) The ID of the rule.

## Import

Import is supported using the following syntax:
```shell
# use the name to import the edge gateway firewall
terraform import cloudavenue_edgegateway_firewall.example EdgeGatewayNameOrID
```
