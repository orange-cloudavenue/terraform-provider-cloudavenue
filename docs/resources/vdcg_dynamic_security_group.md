---
page_title: "cloudavenue_vdcg_dynamic_security_group Resource - cloudavenue"
subcategory: "vDC Group (Virtual Datacenter Group)"
description: |-
  The cloudavenue_vdcg_dynamic_security_group resource allows you to manage dynamic security groups in the VDC Group. A dynamic security group is a group of VMs that share the same security rules. The VMs are dynamically added or removed from the group based on the criteria defined in the security group. The dynamic security group will be attached to the VDC Group firewall
---

# cloudavenue_vdcg_dynamic_security_group (Resource)

The `cloudavenue_vdcg_dynamic_security_group` resource allows you to manage dynamic security groups in the VDC Group. A dynamic security group is a group of VMs that share the same security rules. The VMs are dynamically added or removed from the group based on the criteria defined in the security group. The dynamic security group will be attached to the VDC Group firewall
 
## Example Usage

```terraform
resource "cloudavenue_vdcg_dynamic_security_group" "example" {
  name         = "example"
  description  = "example of dynamic security group with criteria"
  vdc_group_id = cloudavenue_vdcg.example.id
  criteria = [
    { # OR
      rules = [
        { # AND
          type     = "VM_NAME"
          value    = "test"
          operator = "STARTS_WITH"
        },
        { # AND
          type     = "VM_NAME"
          value    = "front"
          operator = "CONTAINS"
        },
        { # AND
          type     = "VM_TAG"
          value    = "prod"
          operator = "ENDS_WITH"
        },
      ]
    },
    { # OR
      rules = [
        { # AND
          type     = "VM_TAG"
          value    = "test"
          operator = "STARTS_WITH"
        },
        { # AND
          type     = "VM_TAG"
          value    = "web-front"
          operator = "CONTAINS"
        }
      ]
    },
    { # OR
      rules = [
        { # AND
          type     = "VM_TAG"
          value    = "prod"
          operator = "STARTS_WITH"
        },
        { # AND
          type     = "VM_TAG"
          value    = "test-xx"
          operator = "EQUALS"
        }
      ]
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the dynamic security group.

### Optional

- `criteria` (Attributes List) The list of dynamic criteria that determines whether a VM belongs to a dynamic firewall group. A VM needs to meet at least one criteria to belong to the firewall group. In other words, the logical AND is used for rules within a single criteria and the logical OR is used in between each criteria. List must contain at most 3 elements. (see [below for nested schema](#nestedatt--criteria))
- `description` (String) The description of the dynamic security group.
- `vdc_group_id` (String) The ID of the VDC Group to which the dynamic security group belongs. Ensure that at least one attribute from this collection is set: [vdc_group_name,vdc_group_id]. This value must start with `urn:vcloud:vdcGroup:`.
- `vdc_group_name` (String) The name of the VDC Group to which the dynamic security group belongs. Ensure that at least one attribute from this collection is set: [vdc_group_name,vdc_group_id].

### Read-Only

- `id` (String) The ID of the dynamic security group.

<a id="nestedatt--criteria"></a>
### Nested Schema for `criteria`

Optional:

- `rules` (Attributes List) The list of rules that determine whether a VM belongs to a dynamic firewall group. A VM needs to meet all rules within a single criteria to belong to the firewall group. In other words, the logical AND is used for rules within a single criteria and the logical OR is used in between each criteria. List must contain at most 4 elements. (see [below for nested schema](#nestedatt--criteria--rules))

<a id="nestedatt--criteria--rules"></a>
### Nested Schema for `criteria.rules`

Required:

- `operator` (String) The operator to use to evaluate the `value`. 

-> **If the value of the attribute [`<.type`](#<.type) is `VM_NAME` the value is one of** - `"STARTS_WITH"` - The VM tag must start with the `value`.<br>- `"CONTAINS"` - The `value` must be contained in the VM tag.<br>. 

-> **If the value of the attribute [`<.type`](#<.type) is `VM_TAG` the value is one of** - `"EQUALS"` - The VM name must be equal to the `value`.<br>- `"CONTAINS"` - The `value` must be contained in the VM name.<br>- `"STARTS_WITH"` - The VM name must start with the `value`.<br>- `"ENDS_WITH"` - The VM name must end with the `value`.<br>.
- `type` (String) The type of the rule. Value must be one of: `VM_NAME` (The criteria is based on the VM name.), `VM_TAG` (The criteria is based on the VM tag.).
- `value` (String) String to evaluate by given `type` and `operator`.

## Import

Import is supported using the following syntax:
```shell
# VDC Group Dynamic Security Group can be imported using the VDC Group name or ID and the Dynamic Security Group name or ID.
terraform import cloudavenue_vdcg_security_group.example vdcGroupNameOrID.dynamicSecurityGroupNameOrId
```