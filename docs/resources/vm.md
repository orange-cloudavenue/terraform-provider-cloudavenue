---
page_title: "cloudavenue_vm Resource - cloudavenue"
subcategory: "VM (Virtual Machine)"
description: |-
  The virtual machine (vm) resource allows you to manage a virtual machine in the CloudAvenue.
---

# cloudavenue_vm (Resource)

The virtual machine (vm) resource allows you to manage a virtual machine in the CloudAvenue.

## Example Usage

```terraform
data "cloudavenue_catalog_vapp_template" "example" {
  catalog_name  = "Orange-Linux"
  template_name = "debian_10_X64"
}

resource "cloudavenue_vapp" "example" {
  name        = "vapp_example"
  description = "This is a example vapp"
}

resource "cloudavenue_vm" "example" {
  name             = "example-vm"
  description      = "This is a example vm"
  accept_all_eulas = true
  vapp_name        = cloudavenue_vapp.example.name
  vapp_template_id = data.cloudavenue_catalog_vapp_template.example.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the VM. Unique within the vApp.
- `vapp_name` (String) The vApp this VM belongs to.

### Optional

- `accept_all_eulas` (Boolean) Automatically accept EULA if OVA has it. Default is `false`.
- `boot_image_id` (String) The ID of the boot image to use for this VM. Required if `vapp_template_id` is not set.
- `computer_name` (String) Computer name to assign to this virtual machine. Default is `vm_name`.
- `customization` (Attributes) Guest customization block. (see [below for nested schema](#nestedatt--customization))
- `description` (String) Description of the VM.
- `expose_hardware_virtualization` (Boolean) Expose hardware-assisted CPU virtualization to guest OS. Default is `false`.
- `guest_properties` (Map of String) Key/Value settings for guest properties
- `network_dhcp_wait_seconds` (Number) Optional number of seconds to try and wait for DHCP IP (valid for `network` block only)
- `networks` (Attributes List) A block to define network interface. Multiple can be used. (see [below for nested schema](#nestedatt--networks))
- `os_type` (String) Operating System type.
- `placement_policy_id` (String) VM placement policy ID. Has to be assigned to Org VDC.
- `power_on` (Boolean) A boolean value stating if this VM should be powered on. Default is `true`.
- `prevent_update_power_off` (Boolean) `true` if the update of resource should fail when virtual machine power off needed. Default is `false`.
- `resource` (Attributes) Resource configuration for the VM. (see [below for nested schema](#nestedatt--resource))
- `sizing_policy_id` (String) VM placement policy ID. Has to be assigned to Org VDC.
- `storage_profile` (String) Storage profile to override the default one.
- `vapp_template_id` (String) The URN of the vApp template to use for this VM. Required if `boot_image_id` is not set.
- `vdc` (String) The name of the VDC this VM belongs to. If not specified, VDC define in provider will be used.
- `vm_name_in_template` (String) The name of the VM in vApp Template to use. In cases when vApp template has more than one VM.

### Read-Only

- `disks` (Attributes Set) A list of disks attached to this VM. (see [below for nested schema](#nestedatt--disks))
- `href` (String) VM Hyper Reference
- `id` (String) The ID of the VM.
- `status_code` (Number) Shows the status code of the VM
- `status_text` (String) Shows the status text of the VM

<a id="nestedatt--customization"></a>
### Nested Schema for `customization`

Optional:

- `admin_password` (String, Sensitive) Manually specify admin password
- `allow_local_admin_password` (Boolean) Allow local administrator password
- `auto_generate_password` (Boolean) Auto generate password
- `change_sid` (Boolean) `true` value will change the SID of the guest OS. Applicable only for Windows VMs.
- `enabled` (Boolean) `true` value will enable guest customization. It may occur on first boot or when `force` is used
- `force` (Boolean) `true` value will cause the VM to reboot on every `apply` operation
- `init_script` (String) Script to run on initial boot or with `customization.force=true` set
- `join_domain` (Boolean) Enable this VM to join a domain
- `join_domain_account_ou` (String) Organizational Unit (OU) for custom domain name join
- `join_domain_name` (String) Custom domain name for join
- `join_domain_password` (String, Sensitive) Password for custom domain name join
- `join_domain_user` (String) Username for custom domain name join
- `join_org_domain` (Boolean) Use organization's domain for joining
- `must_change_password_on_first_login` (Boolean) Require Administrator to change password on first login
- `number_of_auto_logons` (Number) Number of times to log on automatically. `0` is disabled.


<a id="nestedatt--networks"></a>
### Nested Schema for `networks`

Required:

- `type` (String) Network type to use: `vapp`, `org` or `none`. Use `vapp` for vApp network, `org` to attach Org VDC network. `none` for empty NIC.

Optional:

- `adapter_type` (String) The type of vNic to create on this interface. One of: `VMXNET3`, `E1000`, `E1000E`, `PCNet32`, `SRIOVETHERNETCARD`.
- `connected` (Boolean) Set to true if network should be connected or false otherwise. Default is `true`.
- `ip` (String) IP of the VM. Settings depend on `ip_allocation_mode`. Omitted or empty for DHCP, POOL, NONE. Required for MANUAL
- `ip_allocation_mode` (String) IP allocation mode: `DHCP`, `POOL`, `MANUAL` or `NONE`.
- `is_primary` (Boolean) Set to true if network interface should be primary. First network card in the list will be primary by default
- `mac` (String) MAC address of the VM. Optional and autogenerated by default.
- `name` (String) Name of the network this VM should connect to. Always required except for `type` `NONE`.


<a id="nestedatt--resource"></a>
### Nested Schema for `resource`

Optional:

- `cpu_cores` (Number) The number of cores per socket.
- `cpu_hot_add_enabled` (Boolean) `true` if the virtual machine supports addition of virtual CPUs while powered on. Default is `false`.
- `cpus` (Number) The number of virtual CPUs to allocate to the VM.
- `memory` (Number) The amount of memory (in MB) to allocate to the VM.
- `memory_hot_add_enabled` (Boolean) `true` if the virtual machine supports addition of memory resources while powered on. Default is `false`.


<a id="nestedatt--disks"></a>
### Nested Schema for `disks`

Optional:

- `bus_number` (Number) The number of the controller itself.
- `bus_type` (String) The type of disk controller. Possible values: `scsi`, `sata` or `nvme`. Default value is `scsi`.
- `id` (String) The ID of the disk.
- `name` (String) The name of the disk.
- `size_in_mb` (Number) The size of the disk in MB.
- `storage_profile` (String) Storage profile to override the VM default one. Allowed values are: `silver`, `silver_r1`, `silver_r2`, `gold`, `gold_r1`, `gold_r2`, `gold_hm`, `platinum3k`, `platinum3k_r1`, `platinum3k_r2`, `platinum3k_hm`, `platinum7k`, `platinum7k_r1`, `platinum7k_r2`, `platinum7k_hm`.
- `unit_number` (Number) The device number on the controller of the disk.

