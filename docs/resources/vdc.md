---
page_title: "cloudavenue_vdc Resource - cloudavenue"
subcategory: "vDC (Virtual Datacenter)"
description: |-
  Provides a Cloud Avenue vDC (Virtual Data Center) resource. This can be used to create, update and delete vDC.
---

# cloudavenue_vdc (Resource)

Provides a Cloud Avenue vDC (Virtual Data Center) resource. This can be used to create, update and delete vDC.
 
 -> Note: For more information about Cloud Avenue vDC, please refer to the [Cloud Avenue documentation](https://cloud.orange-business.com/en/offres/infrastructure-iaas/cloud-avenue/wiki-cloud-avenue/services/virtual-datacenter/virtual-datacenter/).

 ~> **Warning**
 The VDC resource uses a complex validation system that is **incompatible** with the **Terraform module**. (See [Disable validation](#disable-validation))

## Example Usage

```terraform
resource "cloudavenue_vdc" "example" {
  name                  = "MyVDC"
  description           = "Example VDC created by Terraform"
  cpu_allocated         = 22000
  memory_allocated      = 30
  cpu_speed_in_mhz      = 2200
  billing_model         = "PAYG"
  disponibility_class   = "ONE-ROOM"
  service_class         = "STD"
  storage_billing_model = "PAYG"

  storage_profiles = [
    {
      class   = "gold"
      default = true
      limit   = 500
    },
    {
      class   = "silver"
      default = false
      limit   = 500
    },
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) <i style="color:red;font-weight: bold">(ForceNew)</i> The name of the vDC. VDC name (<alphanumeric> with - _ character and with max length 27 and min length 2).
- `storage_profiles` (Attributes Set) List of storage profiles for this vDC. Set must contain at least 1 elements. (see [below for nested schema](#nestedatt--storage_profiles))

### Optional

- `billing_model` (String) <i style="color:red;font-weight: bold">(ForceNew)</i> Choose Billing model of compute resources. Value defaults to `PAYG`.
- `cpu_allocated` (Number, Deprecated) CPU capacity in *MHz* that is committed to be available or used as a limit in PAYG mode. Ensure that one and only one attribute from this collection is set : `vcpu`, `cpu_allocated`. 

 ~> **Attribute deprecated** Remove the `cpu_allocated` attribute configuration, it will be removed in the version `v1.0.0` of the provider.
- `cpu_speed_in_mhz` (Number, Deprecated) Frequency of the VCPUs in MHz.
- `description` (String) A description of the vDC.
- `disponibility_class` (String) <i style="color:red;font-weight: bold">(ForceNew)</i> Specifies the service class tier for the Virtual Data Center (vDC), defining its performance and service level. Value defaults to `ONE-ROOM`.
- `memory` (Number) Amount of memory in *GiB* allocated to the vDC. Ensure that one and only one attribute from this collection is set : `memory`, `memory_allocated`.
- `memory_allocated` (Number, Deprecated) Memory capacity in GiB that is committed to be available or used as a limit in PAYG mode. Ensure that one and only one attribute from this collection is set : `memory`, `memory_allocated`. 

 ~> **Attribute deprecated** Rename the `memory_allocated` attribute to `memory`, it will be removed in the version `v1.0.0` of the provider.
- `service_class` (String) <i style="color:red;font-weight: bold">(ForceNew)</i> Defines the service class tier for the Virtual Data Center (vDC), indicating its level of service and performance. Value defaults to `STD`.
- `storage_billing_model` (String) <i style="color:red;font-weight: bold">(ForceNew)</i> Choose Billing model of storage resources. Value defaults to `PAYG`.
- `vcpu` (Number) Number of virtual CPU allocated to the vDC. Ensure that one and only one attribute from this collection is set : `vcpu`, `cpu_allocated`.

### Read-Only

- `id` (String) The ID of the vDC.

<a id="nestedatt--storage_profiles"></a>
### Nested Schema for `storage_profiles`

Required:

- `class` (String) Defines the classification tier of the storage profile, indicating its performance and intended use case.
- `default` (Boolean) Set this storage profile as default for this vDC. Only one storage profile can be default per vDC.
- `limit` (Number) Max number in *GiB* of units allocated for this storage profile.

Read-Only:

- `id` (String) The ID of the storage profile.
- `used` (Number) Number in *GiB* of units used for this storage profile.

<!-- TABLE VDC ATTRIBUTES PARAMETERS -->
## Rules
More information about rules can be found [here](https://cloud.orange-business.com/en/offres/infrastructure-iaas/cloud-avenue/wiki-cloud-avenue/services/virtual-datacenter/virtual-datacenter/).All fields with a ** are editable.

### ServiceClass ECO
| BillingModels | StorageBillingModels | DisponibilityClasses | CPUInMhz (Mhz)          | CPUAllocated (Mhz)         | MemoryAllocated (Gb) |
| ------------- | -------------------- | -------------------- | ----------------------- | -------------------------- | -------------------- |
| RESERVED      | PAYG, RESERVED       | ONE-ROOM, DUAL-ROOM  | ** min: 1200, max: 2200 | ** min: 3000, max: 2500000 | ** min: 1, max: 5120 |
| PAYG          | PAYG, RESERVED       | ONE-ROOM, DUAL-ROOM  | equal: 2200             | ** min: 11000, max: 440000 | ** min: 1, max: 5120 |
| DRAAS         | PAYG, RESERVED       | ONE-ROOM, DUAL-ROOM  | equal: 2200             | ** min: 11000, max: 440000 | ** min: 1, max: 5120 |

### ServiceClass STD
| BillingModels | StorageBillingModels | DisponibilityClasses              | CPUInMhz (Mhz)          | CPUAllocated (Mhz)         | MemoryAllocated (Gb) |
| ------------- | -------------------- | --------------------------------- | ----------------------- | -------------------------- | -------------------- |
| RESERVED      | PAYG, RESERVED       | ONE-ROOM, HA-DUAL-ROOM, DUAL-ROOM | ** min: 1200, max: 2200 | ** min: 3000, max: 2500000 | ** min: 1, max: 5120 |
| PAYG          | PAYG, RESERVED       | ONE-ROOM, HA-DUAL-ROOM, DUAL-ROOM | equal: 2200             | ** min: 11000, max: 440000 | ** min: 1, max: 5120 |
| DRAAS         | PAYG, RESERVED       | ONE-ROOM, HA-DUAL-ROOM, DUAL-ROOM | equal: 2200             | ** min: 11000, max: 440000 | ** min: 1, max: 5120 |

### ServiceClass HP
| BillingModels | StorageBillingModels | DisponibilityClasses              | CPUInMhz (Mhz) | CPUAllocated (Mhz)         | MemoryAllocated (Gb) |
| ------------- | -------------------- | --------------------------------- | -------------- | -------------------------- | -------------------- |
| RESERVED      | PAYG, RESERVED       | ONE-ROOM, HA-DUAL-ROOM, DUAL-ROOM | equal: 2200    | ** min: 3000, max: 2500000 | ** min: 1, max: 5120 |
| PAYG          | PAYG, RESERVED       | ONE-ROOM, HA-DUAL-ROOM, DUAL-ROOM | equal: 2200    | ** min: 11000, max: 440000 | ** min: 1, max: 5120 |

### ServiceClass VOIP
| BillingModels | StorageBillingModels | DisponibilityClasses              | CPUInMhz (Mhz) | CPUAllocated (Mhz)         | MemoryAllocated (Gb) |
| ------------- | -------------------- | --------------------------------- | -------------- | -------------------------- | -------------------- |
| RESERVED      | PAYG, RESERVED       | ONE-ROOM, HA-DUAL-ROOM, DUAL-ROOM | equal: 3000    | ** min: 3000, max: 2500000 | ** min: 1, max: 5120 |


<!-- TABLE STORAGE PROFILES ATTRIBUTES PARAMETERS -->
## Storage Profiles
More information about storage profiles can be found [here](https://cloud.orange-business.com/en/offres/infrastructure-iaas/cloud-avenue/wiki-cloud-avenue/services/block-storage/).All fields with a ** are editable.

### ServiceClass ECO
| StorageProfileClass | SizeLimit (Go)          | IOPSLimit   | BillingModels  | DisponibilityClasses |
| ------------------- | ----------------------- | ----------- | -------------- | -------------------- |
| silver              | ** min: 100, max: 81920 | equal: 600  | PAYG, RESERVED | ONE-ROOM             |
| silver_r1           | ** min: 100, max: 81920 | equal: 600  | PAYG, RESERVED | DUAL-ROOM            |
| silver_r2           | ** min: 100, max: 81920 | equal: 600  | PAYG, RESERVED | DUAL-ROOM            |
| gold                | ** min: 100, max: 81920 | equal: 1000 | PAYG, RESERVED | ONE-ROOM             |
| gold_r1             | ** min: 100, max: 81920 | equal: 1000 | PAYG, RESERVED | DUAL-ROOM            |
| gold_r2             | ** min: 100, max: 81920 | equal: 1000 | PAYG, RESERVED | DUAL-ROOM            |

### ServiceClass STD
| StorageProfileClass | SizeLimit (Go)          | IOPSLimit   | BillingModels  | DisponibilityClasses |
| ------------------- | ----------------------- | ----------- | -------------- | -------------------- |
| silver              | ** min: 100, max: 81920 | equal: 600  | PAYG, RESERVED | ONE-ROOM             |
| silver_r1           | ** min: 100, max: 81920 | equal: 600  | PAYG, RESERVED | DUAL-ROOM            |
| silver_r2           | ** min: 100, max: 81920 | equal: 600  | PAYG, RESERVED | DUAL-ROOM            |
| gold                | ** min: 100, max: 81920 | equal: 1000 | PAYG, RESERVED | ONE-ROOM             |
| gold_r1             | ** min: 100, max: 81920 | equal: 1000 | PAYG, RESERVED | DUAL-ROOM            |
| gold_r2             | ** min: 100, max: 81920 | equal: 1000 | PAYG, RESERVED | DUAL-ROOM            |
| gold_hm             | ** min: 100, max: 81920 | equal: 1000 | PAYG, RESERVED | HA-DUAL-ROOM         |
| platinum3k          | ** min: 100, max: 81920 | equal: 3000 | PAYG, RESERVED | ONE-ROOM             |
| platinum3k_r1       | ** min: 100, max: 81920 | equal: 3000 | PAYG, RESERVED | DUAL-ROOM            |
| platinum3k_r2       | ** min: 100, max: 81920 | equal: 3000 | PAYG, RESERVED | DUAL-ROOM            |
| platinum3k_hm       | ** min: 100, max: 81920 | equal: 3000 | PAYG, RESERVED | HA-DUAL-ROOM         |
| platinum7k          | ** min: 100, max: 81920 | equal: 7000 | PAYG, RESERVED | ONE-ROOM             |
| platinum7k_r1       | ** min: 100, max: 81920 | equal: 7000 | PAYG, RESERVED | DUAL-ROOM            |
| platinum7k_r2       | ** min: 100, max: 81920 | equal: 7000 | PAYG, RESERVED | DUAL-ROOM            |
| platinum7k_hm       | ** min: 100, max: 81920 | equal: 7000 | PAYG, RESERVED | HA-DUAL-ROOM         |

### ServiceClass HP
| StorageProfileClass | SizeLimit (Go)          | IOPSLimit   | BillingModels  | DisponibilityClasses |
| ------------------- | ----------------------- | ----------- | -------------- | -------------------- |
| silver              | ** min: 100, max: 81920 | equal: 600  | PAYG, RESERVED | ONE-ROOM             |
| silver_r1           | ** min: 100, max: 81920 | equal: 600  | PAYG, RESERVED | DUAL-ROOM            |
| silver_r2           | ** min: 100, max: 81920 | equal: 600  | PAYG, RESERVED | DUAL-ROOM            |
| gold                | ** min: 100, max: 81920 | equal: 1000 | PAYG, RESERVED | ONE-ROOM             |
| gold_r1             | ** min: 100, max: 81920 | equal: 1000 | PAYG, RESERVED | DUAL-ROOM            |
| gold_r2             | ** min: 100, max: 81920 | equal: 1000 | PAYG, RESERVED | DUAL-ROOM            |
| gold_hm             | ** min: 100, max: 81920 | equal: 1000 | PAYG, RESERVED | HA-DUAL-ROOM         |
| platinum3k          | ** min: 100, max: 81920 | equal: 3000 | PAYG, RESERVED | ONE-ROOM             |
| platinum3k_r1       | ** min: 100, max: 81920 | equal: 3000 | PAYG, RESERVED | DUAL-ROOM            |
| platinum3k_r2       | ** min: 100, max: 81920 | equal: 3000 | PAYG, RESERVED | DUAL-ROOM            |
| platinum3k_hm       | ** min: 100, max: 81920 | equal: 3000 | PAYG, RESERVED | HA-DUAL-ROOM         |
| platinum7k          | ** min: 100, max: 81920 | equal: 7000 | PAYG, RESERVED | ONE-ROOM             |
| platinum7k_r1       | ** min: 100, max: 81920 | equal: 7000 | PAYG, RESERVED | DUAL-ROOM            |
| platinum7k_r2       | ** min: 100, max: 81920 | equal: 7000 | PAYG, RESERVED | DUAL-ROOM            |
| platinum7k_hm       | ** min: 100, max: 81920 | equal: 7000 | PAYG, RESERVED | HA-DUAL-ROOM         |

### ServiceClass VOIP
| StorageProfileClass | SizeLimit (Go)          | IOPSLimit   | BillingModels  | DisponibilityClasses |
| ------------------- | ----------------------- | ----------- | -------------- | -------------------- |
| silver              | ** min: 100, max: 81920 | equal: 600  | PAYG, RESERVED | ONE-ROOM             |
| silver_r1           | ** min: 100, max: 81920 | equal: 600  | PAYG, RESERVED | DUAL-ROOM            |
| silver_r2           | ** min: 100, max: 81920 | equal: 600  | PAYG, RESERVED | DUAL-ROOM            |
| gold                | ** min: 100, max: 81920 | equal: 1000 | PAYG, RESERVED | ONE-ROOM             |
| gold_r1             | ** min: 100, max: 81920 | equal: 1000 | PAYG, RESERVED | DUAL-ROOM            |
| gold_r2             | ** min: 100, max: 81920 | equal: 1000 | PAYG, RESERVED | DUAL-ROOM            |
| gold_hm             | ** min: 100, max: 81920 | equal: 1000 | PAYG, RESERVED | HA-DUAL-ROOM         |
| platinum3k          | ** min: 100, max: 81920 | equal: 3000 | PAYG, RESERVED | ONE-ROOM             |
| platinum3k_r1       | ** min: 100, max: 81920 | equal: 3000 | PAYG, RESERVED | DUAL-ROOM            |
| platinum3k_r2       | ** min: 100, max: 81920 | equal: 3000 | PAYG, RESERVED | DUAL-ROOM            |
| platinum3k_hm       | ** min: 100, max: 81920 | equal: 3000 | PAYG, RESERVED | HA-DUAL-ROOM         |
| platinum7k          | ** min: 100, max: 81920 | equal: 7000 | PAYG, RESERVED | ONE-ROOM             |
| platinum7k_r1       | ** min: 100, max: 81920 | equal: 7000 | PAYG, RESERVED | DUAL-ROOM            |
| platinum7k_r2       | ** min: 100, max: 81920 | equal: 7000 | PAYG, RESERVED | DUAL-ROOM            |
| platinum7k_hm       | ** min: 100, max: 81920 | equal: 7000 | PAYG, RESERVED | HA-DUAL-ROOM         |




## Disable validation

To disable the validation system, you can use the following environment variable:
```shell
export CLOUDAVENUE_VDC_VALIDATION=false
```

All checks will be skipped in the `terraform validate` sequence but will be running during the creation or an update of the resource. This is useful for terraform modules that are not compatible with the validation process.
The validation system is designed to ensure that the VDC resource is created with the correct parameters and configurations. However, in some cases, such as when using Terraform modules, the validation process may not be compatible.
The errors and warnings are returned during the creation of the resource, which can be confusing and time-consuming to troubleshoot.

The default value is `true`.

## Timeouts

The timeouts configuration allows you to specify the maximum amount of time that the provider will wait for a certain operation to complete. The following timeouts can be configured:

* `create` - 8 minutes.
* `update` - 8 minutes.
* `delete` - 5 minutes.

To configure the timeouts, use the following syntax:

```hcl
resource "cloudavenue_vdc" "example" {
  # ...
  timeouts {
    create = "10m"
    update = "10m"
    delete = "6m"
  }
}
```

## Import

Import is supported using the following syntax:
```shell
# VDC can be imported using the name.

terraform import cloudavenue_vdc.example name
```